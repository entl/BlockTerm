/**
 * BlockTerminal component styles
 * Full height/width container with scrollable blocks and anchored input
 */

.block-terminal-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  background-color: #141414;
  border: none;
  border-radius: 0;
  overflow: hidden;
  position: relative;
}

.block-terminal-content {
  flex: 1;
  min-height: 0; /* required: prevents flex item from growing past container height */
  overflow-y: auto;
  overflow-x: hidden;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 0;
  background: #141414;
}

/* Scrollbar styling */
.block-terminal-content::-webkit-scrollbar { width: 6px; }
.block-terminal-content::-webkit-scrollbar-track { background: transparent; }
.block-terminal-content::-webkit-scrollbar-thumb {
  background: #2e2e2e;
  border-radius: 3px;
}
.block-terminal-content::-webkit-scrollbar-thumb:hover { background: #444; }

/* Empty state styling */
.block-terminal-empty {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: #3a3a3a;
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 13px;
}

.block-terminal-empty p {
  margin: 0;
}

/* ── Fullscreen / alternate-screen overlay ─────────────────────────────────
 *
 * The xterm.js Terminal is always mounted so it processes every PTY byte
 * (including alternate-screen sequences). By default it is invisible and
 * pointer-event-free. When a TUI app is active it is layered on top.
 * -------------------------------------------------------------------------- */
.block-terminal-xterm-overlay {
  position: absolute;
  inset: 0;
  /* Hidden but not removed from the layout / DOM */
  visibility: hidden;
  pointer-events: none;
  z-index: 20;
}

.block-terminal-xterm-overlay--visible {
  visibility: visible;
  pointer-events: auto;
}

/* Hide the block list while a fullscreen app is running */
.block-terminal-content--hidden {
  visibility: hidden;
  pointer-events: none;
}

/* The container must be position:relative for the overlay to work */
.block-terminal-container {
  position: relative;
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .block-terminal-container {
    background-color: var(--background, #0f172a);
    border-color: var(--border, #1e293b);
  }

  .block-terminal-content::-webkit-scrollbar-thumb {
    background-color: var(--muted, #475569);
  }

  .block-terminal-content::-webkit-scrollbar-thumb:hover {
    background-color: var(--muted-foreground, #94a3b8);
  }
}
